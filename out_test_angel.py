# from SmartApi.smartConnect import SmartConnect
# import pyotp
# from logzero import logger
#
# from utils.angel_one import refresh
#
# api_key = 'GV3q6BeG'
# username = 'j93096'
# pwd = '1234'
# smartApi = SmartConnect(api_key)
#
# try:
#     token = "NGZT3JHCA755KPDMHATCKHCPLU"
#     totp = pyotp.TOTP(token).now()
# except Exception as e:
#     logger.error("Invalid Token: The provided token is not valid.")
#     raise e
#
# refreshToken = 'eyJhbGciOiJIUzUxMiJ9.eyJ1c2VybmFtZSI6Iko5MzA5NiIsInJvbGVzIjowLCJ1c2VydHlwZSI6IlVTRVIiLCJ0b2tlbiI6ImV5SmhiR2NpT2lKU1V6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUoxYzJWeVgzUjVjR1VpT2lKamJHbGxiblFpTENKMGIydGxibDkwZVhCbElqb2lkSEpoWkdWZllXTmpaWE56WDNSdmEyVnVJaXdpWjIxZmFXUWlPakV3TWl3aWMyOTFjbU5sSWpvaU15SXNJbVJsZG1salpWOXBaQ0k2SWpFellURXpZamcyTFRobE5HVXRNMlJoTUMwNU5EZGlMVFF5TWpaak1HTTBNMkZtWXlJc0ltdHBaQ0k2SW5SeVlXUmxYMnRsZVY5Mk1pSXNJbTl0Ym1WdFlXNWhaMlZ5YVdRaU9qRXdNaXdpY0hKdlpIVmpkSE1pT25zaVpHVnRZWFFpT25zaWMzUmhkSFZ6SWpvaVlXTjBhWFpsSW4wc0ltMW1JanA3SW5OMFlYUjFjeUk2SW1GamRHbDJaU0o5ZlN3aWFYTnpJam9pZEhKaFpHVmZiRzluYVc1ZmMyVnlkbWxqWlNJc0luTjFZaUk2SWtvNU16QTVOaUlzSW1WNGNDSTZNVGMyTXpVMk56WTNOQ3dpYm1KbUlqb3hOell6TkRneE1EazBMQ0pwWVhRaU9qRTNOak0wT0RFd09UUXNJbXAwYVNJNklqZGtZekF3WXpjMExUazRNemN0TkRaa09DMWlNR1JsTFRVd09EZzRZems0TWpSalppSXNJbFJ2YTJWdUlqb2lJbjAudnRsa2JHTnBXbFcyYlRzNHdFY3hlbEJVOEtIOHZuUWFaRUtJaGc1VVQ0Q3VRMVd1Q25ocE95WEUwb2c3YkR0Q21xSXBuT2dPdFVSWkppUjd5Mnd4U25fVDg4eExTODJJTXBrYzV5d1g5ZUdRcnFHalRoSl9tU2M1cVh2alo0UzdTVTdsV01WbDBFQi1uaVpIc1JTQmg3ZlE1RDFfelpGd29TRTFibDczajNZIiwiQVBJLUtFWSI6IkdWM3E2QmVHIiwiWC1PTEQtQVBJLUtFWSI6dHJ1ZSwiaWF0IjoxNzYzNDgxMjc0LCJleHAiOjE3NjM0OTA2MDB9.m5q-lG6Z41QJ8P9oAaNeuu-4F_5tkFH8lLSs-g_3iwiZA4zzdla-8LRJNoPInOMEK6dVZLHiVJks-zcpQwoNQQ'
# # token = smartApi.generateToken(refreshToken)
# # print(f"token: {token}")
# data = smartApi.generateSession(username, pwd, totp)
# # print(data)
#
#
# # refersh='eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbiI6IlJFRlJFU0gtVE9LRU4iLCJSRUZSRVNILVRPS0VOIjoiZXlKaGJHY2lPaUpTVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SjFjMlZ5WDNSNWNHVWlPaUpqYkdsbGJuUWlMQ0owYjJ0bGJsOTBlWEJsSWpvaWRISmhaR1ZmY21WbWNtVnphRjkwYjJ0bGJpSXNJbWR0WDJsa0lqb3dMQ0p6YjNWeVkyVWlPaUl6SWl3aVpHVjJhV05sWDJsa0lqb2lNVE5oTVROaU9EWXRPR1UwWlMwelpHRXdMVGswTjJJdE5ESXlObU13WXpRellXWmpJaXdpYTJsa0lqb2lkSEpoWkdWZmEyVjVYM1l5SWl3aWIyMXVaVzFoYm1GblpYSnBaQ0k2TUN3aWFYTnpJam9pYkc5bmFXNWZjMlZ5ZG1salpTSXNJbk4xWWlJNklrbzVNekE1TmlJc0ltVjRjQ0k2TVRjMk16WTFPREUxTkN3aWJtSm1Jam94TnpZek5UY3hOVGMwTENKcFlYUWlPakUzTmpNMU56RTFOelFzSW1wMGFTSTZJbU5sWm1aa09XTTNMVGRpTWpZdE5EaG1PUzFpWVRCakxUSXpZV1U1WXpBNVptTmpaQ0lzSWxSdmEyVnVJam9pSW4wLmQzZWwwQVJuWHJLYkZmbU9oSTBfVF9ZRDJsYnQ4RUlhYUVocVZuZWpiYWFKTEJYb0FqOFdpUGM0eGtERDBMQl80Q1p3NG96MC1jbDM0d212YXVoM1FpTUFJS2pWWnU0bnpyZHVKZzR6aUY5UHdJUjNVZ3lhRHpXY2lLY3VfZjA0RFFhdThPT29IMFRkZnd2c3B5N3g0T1hDUVJmMFBxdEQ4SnEySWQwWWVPNCIsImlhdCI6MTc2MzU3MTc1NH0.UTU0u73gYq2tXXOdQSBJvaNQ5M4GKTR-gTJ0D9yqeK14yU8fzCDqQ1Rv2NE1IDdsMXaJXrtdnZvHhSi1HI289A'
# token = smartApi.generateToken(data["data"]["refreshToken"])
# print(f"token: {token}")